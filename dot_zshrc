# Created by newuser for 5.9
export EDITOR=nvim
bindkey -e
export HISTFILE=~/.zsh_history
export HISTSIZE=1000000   # the number of items for the internal history list
export SAVEHIST=1000000   # maximum number of items for the history file
# The meaning of these options can be found in man page of `zshoptions`.
setopt HIST_IGNORE_ALL_DUPS  # do not put duplicated command into history list
setopt HIST_SAVE_NO_DUPS  # do not save duplicated command
setopt HIST_REDUCE_BLANKS  # remove unnecessary blanks
setopt INC_APPEND_HISTORY_TIME  # append command to history file immediately after execution
setopt EXTENDED_HISTORY  # record command start time

[ -d /usr/share/zsh/plugins ] \
  && source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh \
  && source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

[ -e /usr/bin/starship ] && eval "$(starship init zsh)"
[ -e /usr/bin/zoxide ] && eval "$(zoxide init zsh)"
[ -e /usr/bin/mcfly ] && eval "$(mcfly init zsh)"

alias ipi="curl cip.cc"
alias ls="eza --icons --hyperlink"
alias hg="kitty +kitten hyperlinked_grep"
alias ll="eza -lh --icons"
alias la="eza -lha --icons"
alias tree="eza -T --icons --git-ignore"
alias vi="nvim"
alias vim="nvim"
alias reload="source ~/.zshrc"
alias icat="kitty +kitten icat"

export PATH="/opt/cuda/bin:$PATH" 
export PATH="$HOME/Development/whisper.cpp/build/bin:$PATH"

pacadd() {
  if [ $# -lt 1 ]; then
    exit 0
  fi

  sudo pacman -S --needed "$@"
  pacman -Qqe >"$HOME/WorkSpaces/dotfiles/pkg.list"
}

pacrm() {
  if [ $# -lt 1 ]; then
    exit 0
  fi

  sudo pacman -Rns "$@"
  pacman -Qqe >"$HOME/WorkSpaces/dotfiles/pkg.list"
}

